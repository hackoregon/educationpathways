<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>FortyForty100</title>
    <meta name="description" content="Can all Oregon kids graduate from high school? If state leaders succeed, there will be a lot more of us with degrees, certificates – and work we love.">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="apple-touch-icon" href="../apple-touch-icon.png">
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="../css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/app.css">
  </head>
  <body>
    <div class="nav">
      <ul>
        <li class="brand">
          <a href="../">
            <img class="brand" src="../img/100_logo_tosize.png" alt="Brand">
          </a>
        </li>
        <li class="menu-item"><a href="../stories/">Stories</a></li>
        <li class="menu-item"><a href="../explore/" class="active">Explore the Data</a></li>
        <li class="menu-item"><a href="../about/">About</a></li>
      </ul>
    </div>
  <div class="container">
    <h2 class="bluefont">
      About These Data Visualizations
    </h2>
    <p>
      The dataset includes 41,603 de-identified Oregon students scheduled to graduate high school in 2006. The records document key demographic characteristics, assessed math and reading proficiency resulting from tests completed in 2003, and college enrollment and degree attainments through 2014.
    </p>
    <p>
      To protect student privacy, Education Pathways only receives aggregated, non student-level data.
    </p>
    <p>
      In filtering the data, users should be aware:
    </p>
      <ul>
        <li>Certain filter selections will return zero results for sufficiently small sample sizes or other cases where student anonymity may be at risk.</li>
        <li>The number of credentials in each category shown reflect the total number of students for whom that credential was their highest credential attained, not the total number of degrees awarded.</li>
      </ul>
    </p>
  </div>
  <div class="container">

    <h2 class="bluefont">
      How Are Students Moving Through the Education Process?
    </h2>
    <p>
      The dynamic graphic below is called a Sankey diagram. It provides an effective way to see how different groups of students achieved a range of educational credentials and degrees over nearly a decade (2006-2014).
    </p>
    <p>
      The data can be filtered by a range of student demographic characteristics, by district and school, and by credential or degree, using the tools below.
    </p>
    <p>
      The “Scale” on the left indicates the total number of students for which the diagrams displays the pathways. The numbers of students reflected in each vertical bar are visible by hovering your cursor over the bar.
    </p>
    <p>
      Explore!
    </p>
  </div>
  <div class="container">
    <!-- start of sankey dom elements -->
    <div id="filters">
      <h3>Filters</h3>
    </div>
    <h2>Scale: <span id="scale"></span></h2>
    <div>
      <div id="pathfilters" class="tabs"></div>
    </div>
    <div id="chart"></div>
    <!-- <script type="text/javascript" src="http://bryzaguy.github.io/oregon-learns-chart/app.js" charset="utf-8"></script> -->
    <script type="text/javascript" src="http://merrittlawrenson.com/sankey/app.js" charset="utf-8"></script>
    <!-- end of sankey dom elements -->
  </div>
  <div class="container">
    <h2 class="bluefont">
      How Long Are Students Staying In School?
    </h2>
    <p>
      In the following bar charts, we look at three groups: those that graduate from a four year institution, those that graduate from a two year institution, and those that attend a post-secondary school but do not obtain a degree.
    </p>
    <p>
        In these graphs, "Calendar Years" refers to the time that passes between the first time a student enrolls and when they graduate or otherwise move on.  "Enrolled Years" discounts from this the time spent not enrolled in a school.
    </p>
  </div>
  <div class="container">
    <div class="row">
        <div id="td-4yr" class="img-responsive col-sm-4" >
        <h4>Time Distribution<br/>4-year Degree</h4>
        </div>  <!-- 4-year -->
        <div id="td-2yr" class="img-responsive col-sm-4" >
            <h4>Time Distribution<br/>2-year Degree</h4>
        </div>  <!-- 2-year -->
        <div id="td-hs" class="img-responsive col-sm-4" >
            <h4>Time Distribution<br/>No Degree</h4>
        </div>  <!-- HS -->
    </div>
  </div>
  <div class="container">
          <h2 class="bluefont">
            How Does a High School or District Compare in Oregon?
          </h2>
          <p>
            In these graphs, the circles fill according to the relative standing of the high school or district selected.  If a circle fills half way, the selected school or district is about average for Oregon.  Filling past that point indicates that the institution is performing at a higher-than-average rate.
          </p>
          <p>
            As obtaining enough data to make a meaningful statement about rates is not always possible, we've had to remove some schools and districts from the list.  As better data becomes available, we hope to add schools and filters to the options to learn more about performance.
          </p>
        <div class="img-responsive col-sm-12" id="comparison-filter">
            <h2>Filters</h2>
        </div>
        <div class="col-sm-12">
            <h2 id='comparison-count'></h2>
            <div class="row">
                <div class="col-sm-4">
                    <div class="dial" id="grad-rate"></div>
                    <h4 class="text-center">High School Graduation: <span id="grad-rate-span"></span></h4>
                </div>
                <div class="col-sm-4">
                    <div class="dial" id="four-rate"></div>
                    <h4 class="text-center">4 Year Graduation: <span id="four-rate-span"></span></h4>
                </div>
                <div class="col-sm-4">
                    <div class="dial" id="two-rate"></div>
                    <h4 class="text-center">2 Year Graduation: <span id="two-rate-span"></span></h4>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-4">
                    <div class="dial" id="poverty-rate"></div>
                    <h4 class="text-center">Poverty Rate: <span id="poverty-rate-span"></span></h4>
                </div>
                <div class="col-sm-4">
                    <div class="dial" id="post-enroll-rate"></div>
                    <h4 class="text-center">Post-Secondary Enrollment: <span id="post-enroll-rate-span"></span></h4>
                </div>
                <div class="col-sm-4">
                    <div class="dial" id="HLAA-rate"></div>
                    <h4 class="text-center">Highest Level Enrolled Was Achieved: <span id="HLAA-rate-span"></span></h4>
                </div>
            </div>
        </div>
    </div>
    <script src="../js/comparisonDials.js"></script>
    <!-- footer -->
    <div class="footer">
      <div class="row">
        <div class="col-sm-1"></div>
        <div class="col-sm-4">
          <a href="../">
            <img class="footer-brand" src="../img/40_40_100_logo.png" alt="Forty Forty One Hundred" />
          </a>
        </div>
        <div class="col-sm-6 footer-links">
          <a href="http://www.hackoregon.org/">
            <img class="footer-hack-or" src="../img/hackoregon.png" alt="Hack Oregon" />
          </a>
          <a href="https://twitter.com/HackOregon">
            <i class="fa fa-twitter fa-3x"></i>
          </a>
          <a href="mailto:catherine@hackoregon.org">
            <i class="fa fa-envelope-o fa-3x"></i>
          </a>
        </div>
        <div class="col-sm-1"></div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="../js/timeDistributionGraph.js"></script>
    <script src="../js/buildFilterControls.js"></script>
    <script>
      var comparisonFilters = {
            gender: '',
            ethnicity: '',
            poverty: '',
            lep: '',
            meet_math: '',
            meet_read: '',
            district: 'Amity_SD_4J',
            hs_name: '',
            query: function () {
                var params = [];
                for (var key in this) {
                    if (typeof this[key] !== 'function' && this[key]) {
                        // if the value contains commas treat it as a list
                        if (this[key].indexOf(',') == -1) {
                            params.push('&' + key + '=' + this[key]);
                        } else {
                            var splitValue = this[key].split(',');
                            splitValue.forEach(function(value) {
                                params.push('&' + key + '=' + value);
                            });
                        }
                    }
                }
                var group = '';
                if (comparisonFilters.district === '') {
                    group = 'hs_name';
                } else {
                    group = 'district';
                }
                current_rates = rowSelect(
                    rates_array,
                    params.slice(0, -1).join(separator=""),
                    group
                );
                return params.join(separator="");
            },
            redraw: function() {
            var group = '';
                if (comparisonFilters.district === '') {
                    group = 'hs_name';
                } else {
                    group = 'district';
                }
                updateData();
            }
        };
      buildComparisonFilterControls("comparison-filter", comparisonFilters);
      createDistributionGraph("#td-4yr", "../data/4yrbardata.csv");
      createDistributionGraph("#td-2yr", "../data/2yrbardata.csv");
      createDistributionGraph("#td-hs", "../data/triedbardata.csv");
    </script>
  </body>
</html>
